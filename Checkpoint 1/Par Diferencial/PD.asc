Version 4
SHEET 1 3148 1188
WIRE 96 -128 80 -128
WIRE 320 -128 304 -128
WIRE 96 -80 96 -128
WIRE 320 -80 320 -128
WIRE 96 48 96 0
WIRE 320 48 320 0
WIRE 208 96 160 96
WIRE 256 96 208 96
WIRE -1008 160 -1024 160
WIRE -688 160 -704 160
WIRE 96 192 96 144
WIRE 208 192 208 96
WIRE 208 192 96 192
WIRE 320 192 320 144
WIRE 544 192 320 192
WIRE 720 192 608 192
WIRE -1024 224 -1024 160
WIRE -704 224 -704 160
WIRE 96 240 96 192
WIRE 320 240 320 192
WIRE 720 272 720 192
WIRE -16 288 -64 288
WIRE 32 288 -16 288
WIRE 432 288 384 288
WIRE 496 288 432 288
WIRE -16 320 -16 288
WIRE 432 320 432 288
WIRE -1024 368 -1024 304
WIRE -704 368 -704 304
WIRE 96 384 96 336
WIRE 208 384 96 384
WIRE 320 384 320 336
WIRE 320 384 208 384
WIRE -16 432 -16 400
WIRE 432 432 432 400
WIRE 720 432 720 352
WIRE 16 576 -16 576
WIRE 16 608 16 576
WIRE 16 720 16 688
WIRE 112 720 16 720
WIRE 16 752 16 720
WIRE 208 752 208 384
WIRE 112 800 112 720
WIRE 112 800 80 800
WIRE 144 800 112 800
WIRE 16 912 16 848
WIRE 208 912 208 848
FLAG -1008 160 Vref
IOPIN -1008 160 Out
FLAG -1024 368 0
FLAG -688 160 Vreg
IOPIN -688 160 Out
FLAG -16 576 Vref
IOPIN -16 576 In
FLAG -704 368 0
FLAG 16 912 0
FLAG 208 912 0
FLAG 80 -128 Vreg
IOPIN 80 -128 In
FLAG 304 -128 Vreg
IOPIN 304 -128 In
FLAG 432 432 0
FLAG -16 432 0
FLAG -64 288 Vref
IOPIN -64 288 In
FLAG 496 288 Vref
IOPIN 496 288 In
FLAG 720 432 0
FLAG 720 192 vo
IOPIN 720 192 Out
DATAFLAG 208 400 ""
DATAFLAG 0 288 ""
DATAFLAG 432 288 ""
SYMBOL pnp 160 144 R180
SYMATTR InstName Q3
SYMATTR Value BC557C
SYMBOL pnp 256 144 M180
SYMATTR InstName Q4
SYMATTR Value BC557C
SYMBOL npn 32 240 R0
SYMATTR InstName Q1
SYMATTR Value BC547C
SYMBOL npn 384 240 M0
SYMATTR InstName Q2
SYMATTR Value BC547C
SYMBOL voltage -1024 208 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {VREFDC}
SYMBOL res 80 -96 R0
SYMATTR InstName R8
SYMATTR Value {RE}
SYMBOL res 304 -96 R0
SYMATTR InstName R9
SYMATTR Value {RE}
SYMBOL voltage -704 208 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName VIN
SYMATTR Value {VINDC}
SYMBOL npn 144 752 R0
SYMATTR InstName Q7
SYMATTR Value BC547C
SYMBOL npn 80 752 M0
SYMATTR InstName Q8
SYMATTR Value BC547C
SYMBOL res 0 592 R0
SYMATTR InstName Rpol
SYMATTR Value 1.880k
SYMBOL res 416 304 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res -32 304 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL voltage 720 256 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value ""
SYMATTR Value2 AC 1
SYMBOL cap 608 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100
TEXT -448 464 Left 2 !;op
TEXT -712 424 Left 2 !.param VINDC 6.8
TEXT -712 464 Left 2 !.param VINAC 1
TEXT -1032 424 Left 2 !.param VREFDC 2.5
TEXT -1032 464 Left 2 !.param VREFAC 0
TEXT -1032 544 Left 2 !.param RL 1k
TEXT -448 424 Left 2 !;dc VIN 2 24
TEXT -1032 696 Left 2 !.step param RE 50 500 50
TEXT -1032 656 Left 2 !;param RE 50
TEXT -1032 584 Left 2 !;step dec param RL 100k 1 60
TEXT 1648 -24 Left 2 ;Mido regulacion de linea
TEXT 1648 16 Left 2 !.meas DC Vo1rl FIND V(Vo) AT=12
TEXT 1648 40 Left 2 !.meas DC Vo2rl FIND V(Vo) AT=24
TEXT 1648 64 Left 2 !.meas DC RegLin PARAM ((Vo2rl-Vo1rl)/12)
TEXT 1648 120 Left 2 ;Mido regulacion de carga
TEXT 1648 160 Left 2 !.meas OP Vo1rc FIND V(Vo) AT 100
TEXT 1648 184 Left 2 !.meas OP Vo2rc FIND V(Vo) AT 5
TEXT 1648 208 Left 2 !.meas OP Io1rc FIND I(RL) AT 100
TEXT 1648 232 Left 2 !.meas OP Io2rc FIND I(RL) AT 5
TEXT 1656 296 Left 2 ;Mido eficiencia
TEXT 1656 336 Left 2 ;-100*((V(vo)*I(RL))/(V(VIN)*I(VIN)))
TEXT 1648 256 Left 2 !.meas OP RegCar PARAM (-(Vo2rc-Vo1rc)/(Io2rc-Io1rc))
TEXT 520 528 Left 2 !.ac dec 30 1 100k
