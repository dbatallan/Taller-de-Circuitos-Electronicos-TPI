Version 4
SHEET 1 3148 1188
WIRE 96 -128 80 -128
WIRE 320 -128 304 -128
WIRE 544 -128 528 -128
WIRE 688 -128 640 -128
WIRE 768 -128 688 -128
WIRE 880 -128 768 -128
WIRE 1072 -128 960 -128
WIRE 1136 -128 1072 -128
WIRE 1280 -128 1136 -128
WIRE 1440 -128 1280 -128
WIRE 768 -96 768 -128
WIRE 96 -80 96 -128
WIRE 320 -80 320 -128
WIRE 544 -80 544 -128
WIRE 640 -80 640 -128
WIRE 768 0 768 -16
WIRE 864 0 768 0
WIRE 768 16 768 0
WIRE 96 48 96 0
WIRE 320 48 320 0
WIRE 592 48 592 -16
WIRE 688 48 688 -128
WIRE 208 96 160 96
WIRE 256 96 208 96
WIRE 768 128 768 96
WIRE 864 128 864 0
WIRE 1136 128 1136 -128
WIRE -1008 160 -1024 160
WIRE -800 160 -816 160
WIRE 1280 160 1280 -128
WIRE 1440 160 1440 -128
WIRE 96 192 96 144
WIRE 208 192 208 96
WIRE 208 192 96 192
WIRE 320 192 320 144
WIRE 640 192 640 112
WIRE 640 192 320 192
WIRE 816 192 640 192
WIRE 1072 192 1072 -128
WIRE 1072 192 912 192
WIRE -1024 224 -1024 160
WIRE -816 224 -816 160
WIRE 96 240 96 192
WIRE 320 240 320 192
WIRE 32 288 -16 288
WIRE 736 288 384 288
WIRE 1136 288 1136 208
WIRE 1136 288 736 288
WIRE 1136 336 1136 288
WIRE -1024 368 -1024 304
WIRE -816 368 -816 304
WIRE 96 384 96 336
WIRE 208 384 96 384
WIRE 320 384 320 336
WIRE 320 384 208 384
WIRE 16 432 -16 432
WIRE 1280 432 1280 240
WIRE 1440 432 1440 224
WIRE 1440 432 1280 432
WIRE 16 464 16 432
WIRE 16 576 16 544
WIRE 112 576 16 576
WIRE 16 608 16 576
WIRE 208 608 208 384
WIRE 112 656 112 576
WIRE 112 656 80 656
WIRE 144 656 112 656
WIRE 1136 752 1136 416
WIRE 1280 752 1280 432
WIRE 16 768 16 704
WIRE 208 768 208 704
FLAG 1280 -128 Vo
FLAG -1008 160 Vref
IOPIN -1008 160 Out
FLAG 736 288 Vf
FLAG -1024 368 0
FLAG -800 160 vcc
IOPIN -800 160 Out
FLAG 1280 752 0
FLAG 1136 752 0
FLAG -16 288 Vref
IOPIN -16 288 In
FLAG -16 432 Vref
IOPIN -16 432 In
FLAG -816 368 0
FLAG 16 768 0
FLAG 208 768 0
FLAG 80 -128 vcc
IOPIN 80 -128 In
FLAG 304 -128 vcc
IOPIN 304 -128 In
FLAG 528 -128 vcc
IOPIN 528 -128 In
FLAG 768 128 0
DATAFLAG 1104 -32 ""
SYMBOL pnp 160 144 R180
SYMATTR InstName Q3
SYMATTR Value BC557C
SYMBOL pnp 256 144 M180
SYMATTR InstName Q4
SYMATTR Value BC557C
SYMBOL npn 32 240 R0
SYMATTR InstName Q1
SYMATTR Value BC547C
SYMBOL npn 384 240 M0
SYMATTR InstName Q2
SYMATTR Value BC547C
SYMBOL pnp 640 -16 M270
SYMATTR InstName Q5
SYMATTR Value D45H11
SYMBOL npn 592 112 R270
SYMATTR InstName Q6
SYMATTR Value 2N3019
SYMBOL res 1120 112 R0
SYMATTR InstName R5
SYMATTR Value 5k
SYMBOL res 1120 320 R0
SYMATTR InstName R6
SYMATTR Value 5k
SYMBOL res 1264 144 R0
SYMATTR InstName RL
SYMATTR Value {RL}
SYMBOL voltage -1024 208 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC {VREFAC}
SYMATTR InstName V1
SYMATTR Value {VREFDC}
SYMBOL res 80 -96 R0
SYMATTR InstName R8
SYMATTR Value {RE}
SYMBOL res 304 -96 R0
SYMATTR InstName R9
SYMATTR Value {RE}
SYMBOL cap 1424 160 R0
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL voltage -816 208 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC {VINAC}
SYMATTR InstName VIN
SYMATTR Value {VINDC}
SYMBOL npn 144 608 R0
SYMATTR InstName Q7
SYMATTR Value BC547C
SYMBOL npn 80 608 M0
SYMATTR InstName Q8
SYMATTR Value BC547C
SYMBOL res 0 448 R0
SYMATTR InstName Rpol
SYMATTR Value 1.84k
SYMBOL npn 816 128 M90
SYMATTR InstName Q9
SYMATTR Value BC547C
SYMBOL res 976 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 70
SYMBOL res 752 0 R0
SYMATTR InstName R2
SYMATTR Value 2k
SYMBOL res 752 -112 R0
SYMATTR InstName R3
SYMATTR Value 2k
TEXT 1760 472 Left 2 !.op
TEXT 1736 544 Left 2 !.param VINDC 12
TEXT 1736 584 Left 2 !.param VINAC 1
TEXT 2064 544 Left 2 !.param VREFDC 2.5
TEXT 2064 584 Left 2 !.param VREFAC 0
TEXT 2408 544 Left 2 !;param RL 1k
TEXT 1736 632 Left 2 !;dc VIN 2 24
TEXT 2816 584 Left 2 !;step param RE 1 1k 100
TEXT 2816 544 Left 2 !.param RE 100
TEXT 2400 584 Left 2 !.step dec param RL 100k 1 60
TEXT 1648 -24 Left 2 ;Mido regulacion de linea
TEXT 1648 16 Left 2 !.meas DC Vo1rl FIND V(Vo) AT=12
TEXT 1648 40 Left 2 !.meas DC Vo2rl FIND V(Vo) AT=24
TEXT 1648 64 Left 2 !.meas DC RegLin PARAM ((Vo2rl-Vo1rl)/12)
TEXT 1648 120 Left 2 ;Mido regulacion de carga
TEXT 1648 160 Left 2 !.meas OP Vo1rc FIND V(Vo) AT 100
TEXT 1648 184 Left 2 !.meas OP Vo2rc FIND V(Vo) AT 5
TEXT 1648 208 Left 2 !.meas OP Io1rc FIND I(RL) AT 100
TEXT 1648 232 Left 2 !.meas OP Io2rc FIND I(RL) AT 5
TEXT 1656 296 Left 2 ;Mido eficiencia
TEXT 1656 336 Left 2 ;-100*((V(vo)*I(RL))/(V(VIN)*I(VIN)))
TEXT 1648 256 Left 2 !.meas OP RegCar PARAM (-(Vo2rc-Vo1rc)/(Io2rc-Io1rc))
